(()=>{var e={945:()=>{}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(()=>{"use strict";a(945);class e{constructor(e,t,a){var n=a||0;this.elements=document.querySelectorAll(e),this.elements[n].checked=!0,this.elements.forEach(e=>{e.addEventListener("click",function(e){var a=e.target.value;t(a)})})}update(e){this.elements[e].checked=!0}}class t{constructor(e,t,a,n,i,s){this.btn=t,this.selected_color=a,this.not_selected_color=n,this.callback=i||function(){},this.callbackArgs=s||this.btn,this.btns=document.querySelectorAll(e)}select(){this.btns.forEach(e=>{e.style.backgroundColor=this.not_selected_color}),this.btn.style.backgroundColor=this.selected_color,this.callback(this.callbackArgs)}}class n{constructor(e,t,a){document.querySelectorAll(e).forEach(e=>{e.addEventListener("click",function(e){var n=e.target.value;e.target.checked?t(n):a(n)})})}}class i{constructor(e,t){this.elements=document.querySelectorAll(e),this.elements.forEach(e=>{e.addEventListener("change",function(e){var a=e.target.value,n=e.target.dataset.field;t(a,n)})})}update(e){for(var t=0;t<this.elements.length;t++)this.elements[t].value=e[t]}}function s(e){var t=e.dataset.setedStatus;document.getElementById("render-status").innerText=t}var l=document.getElementById("pause_shader");l.addEventListener("click",function(){r.select(),window.cancelAnimationFrame(E.request_animation_id)});var r=new t(".switch_action",l,"#f0bb29","#fff",s,l),d=document.getElementById("resume_shader");d.addEventListener("click",function(){u.select(),E.request_animation_id=window.requestAnimationFrame(e=>E.update(e,E))});var u=new t(".switch_action",d,"#84a8e3","#fff",s,d);function c(e){var t=e.target.attributes.value.nodeValue;document.getElementById(t).remove(),$.ajax({type:"POST",url:"remove_shader/",data:{shader_id:t},headers:{"X-CSRFToken":csrftoken},mode:"same-origin",success:function(e){},error:function(e,t,a){}})}function o(e){var t=e.target.attributes.value.nodeValue;$.ajax({type:"POST",url:"get_shader/",data:{shader_id:t},headers:{"X-CSRFToken":csrftoken},mode:"same-origin",success:function(e){E.fragment_editor.setValue(e.fragment_src),E.vertex_editor.setValue(e.vertex_src),E.clearLog(),E.updateShaderProgram(),E.updateUIElements(),E.updateGeometry(),E.default_geometry_data_indx=e.dgd_indx,E.render_mode=parseInt(e.render_mode);var t=JSON.parse(e.bg);E.bg_color_btn.update(t),E.updateBgColor(t[0],"r"),E.updateBgColor(t[1],"g"),E.updateBgColor(t[2],"b"),E.updateBgColor(t[3],"a");for(var a=JSON.parse(e.buffers),n=JSON.parse(e.sizes),i=0;i<E.ui_elements.length;i++){if(a.buffers[i].is_raw){var s=[];for(value in a.buffers[i].data)s.push(a.buffers[i].data[value]);E.ui_elements[i].buffer=new Float32Array(s)}else E.ui_elements[i].buffer=a.buffers[i].data;E.ui_elements[i].size=n.sizes[i].data}E.updateUIElements(),E.updateGeometry()},error:function(e,t,a){}})}function m(e,t){switch(e.tagName){case"INPUT":"number"==e.type?(this.size=parseInt(t),E.updateShaderProgram(),E.updateUIElements(),this.loc=E.gl.getAttribLocation(E.program,this.name),E.updateGeometry()):E.default_geometry_data_indx=parseInt(t);break;case"TEXTAREA":this.buffer=new Float32Array(t.split(",").map(e=>parseFloat(e))),E.updateShaderProgram(),E.updateUIElements(),this.loc=E.gl.getAttribLocation(E.program,this.name),E.updateGeometry()}}function f(e,t){this.buffer=parseFloat(t)}function p(e,t){this.buffer=parseInt(t)}function _(e,t){this.buffer=parseInt(t)}function g(e,t){var a=parseInt(e.dataset.vecIndx);this.buffer[a]=parseFloat(t)}function h(e,t){var a=parseInt(e.dataset.vecIndx);this.buffer[a]=parseInt(t)}function b(e,t){var a=parseInt(e.dataset.vecIndx);this.buffer[a]=parseInt(t)}function v(e,t){var a=parseInt(e.dataset.vecIndx);this.buffer[a]=parseFloat(t)}document.getElementById("reload_shader").addEventListener("click",function(){E.clearLog(),E.updateShaderProgram(),E.updateUIElements(),E.updateGeometry()}),document.getElementById("save_shader").addEventListener("click",function(){for(var e=new Date,t=e.getDay()+"."+e.getMonth()+"."+e.getFullYear()+"-"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds(),a=Math.random().toString(16).slice(2),n={buffers:[]},i={sizes:[]},s=0;s<E.ui_elements.length;s++){var l=!1;E.ui_elements[s].buffer.constructor===Float32Array&&(l=!0),n.buffers.push({data:E.ui_elements[s].buffer,is_raw:l}),i.sizes.push({data:E.ui_elements[s].size})}$.ajax({type:"POST",url:"save_shader/",data:{name:t,shader_id:a,fragment_src:E.fragment_editor.getValue(),vertex_src:E.vertex_editor.getValue(),default_geometry_data_indx:E.default_geometry_data_indx,render_mode:E.render_mode,bg:JSON.stringify(E.bg),buffers:JSON.stringify(n),sizes:JSON.stringify(i)},headers:{"X-CSRFToken":csrftoken},mode:"same-origin",success:function(e){document.getElementById("tab_body-8").insertAdjacentHTML("beforeend",e),document.getElementById("delete-"+a).addEventListener("click",c),document.getElementById("upload-"+a).addEventListener("click",o)},error:function(e,t,a){}})}),document.querySelectorAll(".shader_remove_action").forEach(e=>{e.addEventListener("click",c)}),document.querySelectorAll(".shader_upload_action").forEach(e=>{e.addEventListener("click",o)}),document.getElementById("tab_button_for_save").addEventListener("click",function(){$.ajax({type:"POST",url:"load_shader/",headers:{"X-CSRFToken":csrftoken},mode:"same-origin",success:function(e){var t=document.getElementById("tab_body-8");t.insertAdjacentHTML("beforeend",e),t.querySelectorAll(".save_shader").forEach(e=>{document.getElementById("delete-"+e.id).addEventListener("click",c),document.getElementById("upload-"+e.id).addEventListener("click",o)})},error:function(e,t,a){}})},{once:!0}),document.getElementById("tab_button_for_lib").addEventListener("click",function(){$.ajax({type:"POST",url:"load_library/",headers:{"X-CSRFToken":csrftoken},mode:"same-origin",success:function(e){var t=document.getElementById("tab_body-5");t.insertAdjacentHTML("beforeend",e),t.querySelectorAll(".save_shader").forEach(e=>{document.getElementById("delete-"+e.id).remove(),document.getElementById("upload-"+e.id).addEventListener("click",o)})},error:function(e,t,a){}})},{once:!0}),document.getElementById("toDefault_shader").addEventListener("click",function(){E.render_mode=E.gl.TRIANGLES,E.render_mode_btn.update(0),E.bg=[1,1,1,1],E.bg_color_btn.update(E.bg),u.select(),E.setFromDefaultsShaderSrouceCode(),E.updateShaderProgram(),E.setFromDefaultsUIElements(),E.updateGeometry()}),document.addEventListener("DOMContentLoaded",function(){function e(e){e.forEach(e=>{var t=e.dataset.uiElementId;e.addEventListener("change",e=>{E.ui_elements[t].handler(e.target,e.target.value)})})}const t=document.querySelectorAll(".toObserve"),a={childList:!0},n=new MutationObserver(function(t,a){for(const a of t)a.addedNodes.length>0&&e(a.addedNodes[0].querySelectorAll(".input_el"))});t.forEach(e=>{n.observe(e,a)}),e(document.querySelectorAll(".input_el"))}),document.getElementById("canvas").onmousemove=function(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;E.mouse_pos[0]=a,E.mouse_pos[1]=n};let E=new class{constructor(){window.onerror=this.log,this.start=0,this.default_geometry_data_indx=0,this.mouse_pos=[0,0],this.render_mode_btn=new e(".render_mode",this.updateRenderMode),this.pipeline_work_btn=new n(".pipeline_work",this.updatePipelineCheck,this.updatePipelineUnCheck),this.bg_color_btn=new i(".bg_color",this.updateBgColor),this.fragment_editor=ace.edit("fragment_editor"),this.fragment_editor.session.setMode("ace/mode/glsl"),this.vertex_editor=ace.edit("vertex_editor"),this.vertex_editor.session.setMode("ace/mode/glsl"),this.canvas=document.querySelector("#canvas"),this.gl=this.canvas.getContext("webgl2"),this.render_mode=this.gl.TRIANGLES,this.bg=[1,1,1,1],this.gl||this.log("OpenGl is not avaiable"),u.select(),this.setFromDefaultsShaderSrouceCode(),this.updateShaderProgram(),this.setFromDefaultsUIElements(),this.updateGeometry()}setFromDefaultsShaderSrouceCode(){this.vertexShaderPath=this.canvas.dataset.vertexShader,this.fragmentShaderPath=this.canvas.dataset.fragmentShader,this.vertex_editor.setValue(this.readTextFile(this.vertexShaderPath)),this.fragment_editor.setValue(this.readTextFile(this.fragmentShaderPath))}updateShaderProgram(){this.fragment_source_code=this.fragment_editor.getValue(),this.vertex_source_code=this.vertex_editor.getValue(),this.vertexShader=this.createShader(this.gl,this.gl.VERTEX_SHADER,this.vertex_source_code),this.fragmentShader=this.createShader(this.gl,this.gl.FRAGMENT_SHADER,this.fragment_source_code),this.program=this.createProgram(this.gl,this.vertexShader,this.fragmentShader)}setFromDefaultsUIElements(){this.uTimeLoc=this.gl.getUniformLocation(this.program,"u_time"),this.uResolutionLoc=this.gl.getUniformLocation(this.program,"u_resolution"),this.uMousePosLoc=this.gl.getUniformLocation(this.program,"u_mouse"),this.uniforms=this.getUniforms,this.attributes=this.getAttributes,this.ui_elements=[],this.clearwebUIElements(),this.clearbuffUIElements();for(var e=0;e<this.attributes.length;e++)this.setUIElement(this.attributes[e]);for(e=0;e<this.uniforms.length;e++)this.setUIElement(this.uniforms[e]);for(e=0;e<this.ui_elements.length;e++)this.setbufferUIElement(this.ui_elements[e]),this.setwebUIElement(this.ui_elements[e]),this.setcallbacksUIElement(this.ui_elements[e])}updateUIElements(){this.uTimeLoc=this.gl.getUniformLocation(this.program,"u_time"),this.uResolutionLoc=this.gl.getUniformLocation(this.program,"u_resolution"),this.uMousePosLoc=this.gl.getUniformLocation(this.program,"u_mouse"),this.uniforms=this.getUniforms,this.attributes=this.getAttributes;var e=[],t=0;for(this.clearwebUIElements();t<this.attributes.length;t++){e.push({buffer:null,name:this.attributes[t].name,loc:this.attributes[t].loc,type_data:this.attributes[t].type}),this.setbufferUIElement(e[t]),this.setcallbacksUIElement(e[t]);var a=e.length-1;e[t].id=a}for(var n=0;n<this.uniforms.length;n++)e.push({buffer:null,name:this.uniforms[n].name,loc:this.uniforms[n].loc,type_data:this.uniforms[n].type}),this.setbufferUIElement(e[t]),this.setcallbacksUIElement(e[t]),a=e.length-1,e[t].id=a,t+=1;for(n=0;n<e.length;n++)for(var i=0;i<this.ui_elements.length;i++)if(e[n].name==this.ui_elements[i].name){e[n].buffer=this.ui_elements[i].buffer,e[n].update=this.ui_elements[i].update,e[n].handler=this.ui_elements[i].handler,e[n].size=this.ui_elements[i].size;break}for(this.ui_elements=e,n=0;n<this.ui_elements.length;n++)this.setwebUIElement(this.ui_elements[n]),this.setcallbacksUIElement(this.ui_elements[n])}updateGeometry(){this.vao=this.gl.createVertexArray(),this.gl.bindVertexArray(this.vao);for(var e=0;e<this.attributes.length;e++){var t=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.ui_elements[e].buffer,this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(this.ui_elements[e].loc);var a=this.ui_elements[e].size,n=this.gl.FLOAT;this.gl.vertexAttribPointer(this.ui_elements[e].loc,a,n,!1,0,0)}}updateRenderMode(e){switch(e){case"TRIANGLES":E.render_mode=E.gl.TRIANGLES;break;case"POINTS":E.render_mode=E.gl.POINTS;break;case"LINES":E.render_mode=E.gl.LINES;break;case"LINE_LOOP":E.render_mode=E.gl.LINE_LOOP;break;case"LINE_STRIP":E.render_mode=E.gl.LINE_STRIP;break;case"TRIANGLE_STRIP":E.render_mode=E.gl.TRIANGLE_STRIP;break;case"TRIANGLE_FAN":E.render_mode=E.gl.TRIANGLE_FAN}}updatePipelineUnCheck(e){switch(e){case"BLEND":E.gl.disable(E.gl.BLEND);break;case"CULL_FACE":E.gl.disable(E.gl.CULL_FACE);break;case"DEPTH_TEST":E.gl.disable(E.gl.DEPTH_TEST);break;case"DITHER":E.gl.disable(E.gl.DITHER);break;case"POLYGON_OFFSET_FILL":E.gl.disable(E.gl.POLYGON_OFFSET_FILL);break;case"SAMPLE_ALPHA_TO_COVERAGE":E.gl.disable(E.gl.SAMPLE_ALPHA_TO_COVERAGE);break;case"SAMPLE_COVERAGE":E.gl.disable(E.gl.SAMPLE_COVERAGE);break;case"SCISSOR_TEST":E.gl.disable(E.gl.SCISSOR_TEST);break;case"STENCIL_TEST":E.gl.disable(E.gl.STENCIL_TEST)}}updatePipelineCheck(e){switch(e){case"BLEND":E.gl.enable(E.gl.BLEND);break;case"CULL_FACE":E.gl.enable(E.gl.CULL_FACE);break;case"DEPTH_TEST":E.gl.enable(E.gl.DEPTH_TEST);break;case"DITHER":E.gl.enable(E.gl.DITHER);break;case"POLYGON_OFFSET_FILL":E.gl.enable(E.gl.POLYGON_OFFSET_FILL);break;case"SAMPLE_ALPHA_TO_COVERAGE":E.gl.enable(E.gl.SAMPLE_ALPHA_TO_COVERAGE);break;case"SAMPLE_COVERAGE":E.gl.enable(E.gl.SAMPLE_COVERAGE);break;case"SCISSOR_TEST":E.gl.enable(E.gl.SCISSOR_TEST);break;case"STENCIL_TEST":E.gl.enable(E.gl.STENCIL_TEST)}}updateBgColor(e,t){var a=parseFloat(e);switch(t){case"r":E.bg[0]=a;break;case"g":E.bg[1]=a;break;case"b":E.bg[2]=a;break;case"a":E.bg[3]=a}}isBuiltIn(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}glEnum2String(e){if("string"!=typeof e){const t=[];for(const a in this.gl)this.gl[a]===e&&t.push(a);return t.length?t.join(" | "):`0x${e.toString(16)}`}return e}get getUniforms(){var e=[];const t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS),a=[...Array(t).keys()],n=this.gl.getActiveUniforms(this.program,a,this.gl.UNIFORM_BLOCK_INDEX),i=this.gl.getActiveUniforms(this.program,a,this.gl.UNIFORM_OFFSET);for(let a=0;a<t;++a){const t=this.gl.getActiveUniform(this.program,a);if(this.isBuiltIn(t))continue;const{name:s,type:l,size:r}=t;if("u_time"==s||"u_resolution"==s||"u_mouse"==s)continue;n[a],i[a];const d=this.gl.getUniformLocation(this.program,s);e.push({loc:d,name:s,type:l})}return e}get getAttributes(){var e=[];const t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<t;++a){const{name:t,type:n,size:i}=this.gl.getActiveAttrib(this.program,a),s=this.gl.getAttribLocation(this.program,t);e.push({loc:s,name:t,type:"RAW_DATA"})}return e}setUIElement(e){this.ui_elements.push({buffer:e.buffer,name:e.name,loc:e.loc,size:null,update:()=>{},handler:()=>{},type_data:e.type});var t=this.ui_elements.length-1;this.ui_elements[t].id=t}updateUIElement(e,t){this.ui_elements[t].name=e.name,this.ui_elements[t].loc=e.loc,this.ui_elements[t].type_data=e.type,this.ui_elements[t].id=t}clearwebUIElements(){document.getElementById("tab_body-4").querySelectorAll(".mat-type").forEach(e=>{e.remove()})}clearbuffUIElements(){this.ui_elements.length=0}setcallbacksUIElement(e){switch(this.glEnum2String(e.type_data)){case"RAW_DATA":e.handler=m,e.update=()=>{};break;case"FLOAT":e.handler=f,e.update=function(){E.gl.uniform1f(e.loc,e.buffer)};break;case"BOOL":e.handler=_,e.update=function(){E.gl.uniform1i(e.loc,e.buffer)};break;case"INT":e.handler=p,e.update=function(){E.gl.uniform1i(e.loc,e.buffer)};break;case"FLOAT_VEC2":e.handler=g,e.update=function(){E.gl.uniform2fv(e.loc,e.buffer)};break;case"FLOAT_VEC3":e.handler=g,e.update=function(){E.gl.uniform3fv(e.loc,e.buffer)};break;case"FLOAT_VEC4":e.handler=g,e.update=function(){E.gl.uniform4fv(e.loc,e.buffer)};break;case"BOOL_VEC2":e.handler=h,e.update=function(){E.gl.uniform2iv(e.loc,e.buffer)};break;case"BOOL_VEC3":e.handler=h,e.update=function(){E.gl.uniform3iv(e.loc,e.buffer)};break;case"BOOL_VEC4":e.handler=h,e.update=function(){E.gl.uniform4iv(e.loc,e.buffer)};break;case"INT_VEC2":e.handler=b,e.update=function(){E.gl.uniform2iv(e.loc,e.buffer)};break;case"INT_VEC3":e.handler=b,e.update=function(){E.gl.uniform3iv(e.loc,e.buffer)};break;case"INT_VEC4":e.handler=b,e.update=function(){E.gl.uniform4iv(e.loc,e.buffer)};break;case"FLOAT_MAT2":e.handler=v,e.update=function(){E.gl.uniformMatrix2fv(e.loc,!1,e.buffer)};break;case"FLOAT_MAT3":e.handler=v,e.update=function(){E.gl.uniformMatrix3fv(e.loc,!1,e.buffer)};break;case"FLOAT_MAT4":e.handler=v,e.update=function(){E.gl.uniformMatrix4fv(e.loc,!1,e.buffer)}}}setwebUIElement(e){var t="";switch(this.glEnum2String(e.type_data)){case"RAW_DATA":var a=null;a=e.id==this.default_geometry_data_indx?"checked":"",t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | RAW_DATA\t\n\t</legend>\n\t<div class="input_data column min_row_gap">\n\t\t<div class="row min_col_gap no_wrap">\n\t\t\t<p>step</p>\n\t\t\t<input data-ui-element-id="${e.id}" class="input_el" value="${e.size}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t</div>\n\t\t<div class="row min_col_gap no_wrap">\n\t\t\t<p>is for geometry</p>\n\t\t\t<input data-ui-element-id="${e.id}" class="input_el" value="${e.id}" type="radio" name="geometry" ${a}/>\n\t\t</div>\n\t\t<hr>\n\t\t<textarea data-ui-element-id="${e.id}" class="input_el" name="about" id="">\n${e.buffer}\n\t\t</textarea>\n\t</div>\n</fieldset>`;break;case"FLOAT":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | FLOAT\n\t</legend>\n\t<input data-ui-element-id="${e.id}" class="input_el" value="${e.buffer}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n</fieldset>`;break;case"BOOL":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | BOOL \n\t</legend>\n\t<input data-ui-element-id="${e.id}" class="input_el" value="${e.buffer}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n</fieldset>`;break;case"INT":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | INT\n\t</legend>\n\t<input data-ui-element-id="${e.id}" class="input_el" value="${e.buffer}" type="number" id="tentacles" name="tentacles" step="1"/>\n</fieldset>`;break;case"FLOAT_VEC2":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | FLOAT VECTOR_2\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t</div>\n</fieldset>`;break;case"FLOAT_VEC3":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | FLOAT VECTOR_3\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t</div>\n</fieldset>`;break;case"FLOAT_VEC4":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | FLOAT VECTOR_4\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="3" class="input_el" value="${e.buffer[3]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t</div>\n</fieldset>`;break;case"BOOL_VEC2":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | BOOL VECTOR_2\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t</div>\n</fieldset>`;break;case"BOOL_VEC3":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | BOOL VECTOR_3\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t</div>\n</fieldset>`;break;case"BOOL_VEC4":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | BOOL VECTOR_4\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="3" class="input_el" value="${e.buffer[3]}" min="0" max="1" type="number" id="tentacles" name="tentacles" step="1"/>\n\t</div>\n</fieldset>`;break;case"INT_VEC2":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | INT VECTOR_2\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t</div>\n</fieldset>`;break;case"INT_VEC3":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | INT VECTOR_3\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t</div>\n</fieldset>`;break;case"INT_VEC4":t=`<fieldset class="mat-type">\n\t<legend>\n\t\t${e.name} | INT VECTOR_4\n\t</legend>\n\t<div class="input_vector">\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t\t<input data-ui-element-id="${e.id}" data-vec-indx="3" class="input_el" value="${e.buffer[3]}" type="number" id="tentacles" name="tentacles" step="1"/>\n\t</div>\n</fieldset>`;break;case"FLOAT_MAT2":t=`<fieldset class="mat-type">\n\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t${e.name} | MATRIX_2x2\n\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t<div class="input_matrix">\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="3" class="input_el" value="${e.buffer[3]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>`;break;case"FLOAT_MAT3":t=`<fieldset class="mat-type">\n\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t${e.name} | MATRIX_3x3\n\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t<div class="input_matrix">\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="3" class="input_el" value="${e.buffer[3]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="4" class="input_el" value="${e.buffer[4]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="5" class="input_el" value="${e.buffer[5]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="6" class="input_el" value="${e.buffer[6]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="7" class="input_el" value="${e.buffer[7]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="8" class="input_el" value="${e.buffer[8]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>`;break;case"FLOAT_MAT4":t=`<fieldset class="mat-type">\n\t\t\t\t\t\t<legend>\n\t\t\t\t\t\t\t${e.name} | MATRIX_4x4\n\t\t\t\t\t\t</legend>\n\t\t\t\t\t\t<div class="input_matrix">\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="0" class="input_el" value="${e.buffer[0]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="1" class="input_el" value="${e.buffer[1]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="2" class="input_el" value="${e.buffer[2]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="3" class="input_el" value="${e.buffer[3]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="4" class="input_el" value="${e.buffer[4]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="5" class="input_el" value="${e.buffer[5]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="6" class="input_el" value="${e.buffer[6]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="7" class="input_el" value="${e.buffer[7]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="8" class="input_el" value="${e.buffer[8]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="9" class="input_el" value="${e.buffer[9]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="10" class="input_el" value="${e.buffer[10]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="11" class="input_el" value="${e.buffer[11]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="input_vector">\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="12" class="input_el" value="${e.buffer[12]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="13" class="input_el" value="${e.buffer[13]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="14" class="input_el" value="${e.buffer[14]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t\t<input data-ui-element-id="${e.id}" data-vec-indx="15" class="input_el" value="${e.buffer[15]}" type="number" id="tentacles" name="tentacles" step="0.01"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>`}document.getElementById("tab_body-4").insertAdjacentHTML("beforeend",t)}setbufferUIElement(e,t){switch(t||this.glEnum2String(e.type_data)){case"RAW_DATA":e.buffer=new Float32Array([-1,1,1,1,-1,-1,-1,-1,1,1,1,-1]),e.size=2;break;case"FLOAT":case"INT":e.buffer=1;break;case"BOOL":e.buffer=!0;break;case"FLOAT_VEC2":case"INT_VEC2":e.buffer=[1,1];break;case"FLOAT_VEC3":case"INT_VEC3":e.buffer=[1,1,1];break;case"FLOAT_VEC4":case"INT_VEC4":e.buffer=[1,1,1,1];break;case"BOOL_VEC2":e.buffer=[0,0];break;case"BOOL_VEC3":e.buffer=[0,0,0];break;case"BOOL_VEC4":e.buffer=[0,0,0,0];break;case"FLOAT_MAT2":e.buffer=[1,0,0,1];break;case"FLOAT_MAT3":e.buffer=[1,0,0,0,1,0,0,0,1];break;case"FLOAT_MAT4":e.buffer=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}}createProgram(e,t,a){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,a),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;this.log(e.getProgramInfoLog(n)),e.deleteProgram(n)}createShader(e,t,a){var n=e.createShader(t);if(e.shaderSource(n,a),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))return n;this.log(e.getShaderInfoLog(n)),e.deleteShader(n)}readTextFile(e){var t=new XMLHttpRequest,a="";return t.open("GET",e,!1),t.onreadystatechange=function(){4===t.readyState&&(200!==t.status&&0!=t.status||(a=t.responseText))},t.send(null),a}log(e){document.getElementById("tab_button_for_err").style.display="flex";var t=`\n<div class="logs_and_erros">${e}</div>`;document.getElementById("tab_body-7").insertAdjacentHTML("beforeend",t)}clearLog(){document.getElementById("tab_button_for_err").style.display="none",document.getElementById("tab_body-7").innerHTML=""}update(e,t){e*=.001,t.deltaTime=e-t.start,t.start=e,function(e,t){t=t||1;const a=e.clientWidth*t|0,n=e.clientHeight*t|0;(e.width!==a||e.height!==n)&&(e.width=a,e.height=n)}(t.canvas),t.gl.viewport(0,0,t.gl.canvas.width,t.gl.canvas.height),t.gl.clearColor(t.bg[0],t.bg[1],t.bg[2],t.bg[3]),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.gl.useProgram(t.program),t.gl.bindVertexArray(t.vao);for(var a=0;a<t.ui_elements.length;a++)t.ui_elements[a].update();t.gl.uniform1f(t.uTimeLoc,e),t.gl.uniform2fv(t.uResolutionLoc,[t.gl.canvas.width,t.gl.canvas.height]),t.gl.uniform2fv(t.uMousePosLoc,t.mouse_pos),t.draw(e),t.request_animation_id=window.requestAnimationFrame(e=>this.update(e,t))}draw(e){var t=this.render_mode,a=this.ui_elements[this.default_geometry_data_indx].buffer.length/this.ui_elements[this.default_geometry_data_indx].size;this.gl.drawArrays(t,0,a)}run(){this.request_animation_id=window.requestAnimationFrame(e=>this.update(e,this))}};E.run()})()})();