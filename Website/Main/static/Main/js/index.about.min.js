(()=>{"use strict";function e(){let e=new CustomEvent("onMediaUploaded");function t(e){var t=new IntersectionObserver((n,o)=>{for(const o of n)o.isIntersecting&&(e.setAttribute("src",e.getAttribute("data-src")),e.classList.add("loader"),t.disconnect())},{threshold:0});t.observe(e)}const n=document.querySelectorAll(".toObserve"),o={childList:!0},r=new MutationObserver(function(n,o){for(const o of n)o.addedNodes.length>0&&(document.dispatchEvent(e),o.target.querySelectorAll(".dynamic_image").forEach(e=>{t(e)}))});n.forEach(e=>{r.observe(e,o)}),document.querySelectorAll(".dynamic_image").forEach(e=>{e.addEventListener("error",e=>{e.target.src=`${PATH}image-not-found.svg`,e.onerror=null}),t(e)})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();