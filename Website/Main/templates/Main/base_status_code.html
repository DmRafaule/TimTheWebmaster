{% load static%}
{% load i18n %}

<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{LANGUAGE_CODE}}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	{% block head %}
	{% endblock %}
	<link rel="icon" href="https://{{domain_name}}/favicon.svg" type="image/svg+xml">
	<link rel="icon" href="https://{{domain_name}}/favicon.ico" sizes="32x32" type="image/x-icon">
    <link type="text/css" rel="stylesheet" href="{% static 'Main/css/index.min.css' %}"/>
	{% block styles %}
	{% endblock %}
</head>
<body class="flex flex-col overflow-auto h-full">

	<header class="sticky top-0 flex p-1 z-50">
		<div class="grow-0 shrink ttw-button_swap" data-body="nav">
			<div class="ttw-button ttw-button_action ttw-button_swap_front ttw-sidebar_button_open" data-body="nav">
				<img class="ttw-button_squared" width="32" height="32" src="{% static 'menu.svg' %}" alt="{% trans '3 горизонтальные линии, бургер' %}">
			</div>
			<div class="ttw-button ttw-button_action ttw-button_swap_back ttw-sidebar_button_close ttw-button_swap_not_active" data-body="nav">
				<img class="ttw-button_squared" width="32" height="32" src="{% static 'close_white.svg' %}" alt="{% trans '3 горизонтальные линии, бургер' %}">
			</div>
		</div>
		{% block hat %}
		{% endblock %}
		<div class="grow shrink">
		</div>
		<div class="grow-0 shrink ttw-button_swap">
			{% get_available_languages as LANGUAGES %}
			{% get_language_info_list for LANGUAGES as languages %}
			{% for language in languages %}
				{% if language.code == LANGUAGE_CODE %}
					<div class="ttw-button ttw-button_link ttw-button_swap_back ttw-button_swap_not_active">
						<a href="/{{language.code}}{{ request.get_full_path|cut:"ru/"|cut:"en/" }}"><img class="ttw-button_circle" width="32" height="32" src="{% static '' %}{{language.code}}.svg" alt="{% trans '3 горизонтальные линии, бургер' %}"></a>
					</div>
				{% else %}
					<div class="ttw-button ttw-button_link ttw-button_swap_front">
						<a href="/{{language.code}}{{ request.get_full_path|cut:"ru/"|cut:"en/" }}"><img class="ttw-button_circle" width="32" height="32" src="{% static '' %}{{language.code}}.svg" alt="{% trans '3 горизонтальные линии, бургер' %}"></a>
					</div>
				{% endif %}
			{% endfor %}
		</div>
		<div class="grow-0 shrink ttw-button ttw-button_link">
			<a href="{% url 'home' %}">
				<img class="ttw-button_circle"  width="32" height="32" src="{% static 'favicon.svg' %}" alt="{% trans 'Главная иконка сайта' %}">
			</a>
		</div>
	</header>
	<main class="flex flex-auto grow shrink">
		<toaster>
			<div class='toaster-container flex flex-col gap-2 p-2'>
				<fieldset class="toaster-blank toaster toaster-inactive">
					<p class="toaster_text"></p>
					<legend class="flex gap-2 items-center">
						<div class="ttw-button ttw-button_action ttw-button_squared bg-main remove_one_action">
							<img class="ttw-button_squared" width="16" height="16" src="{% static 'close_white.svg' %}" alt="{% trans '3 горизонтальные линии, бургер' %}">
						</div>
						<div class="ttw-button ttw-button_action ttw-button_squared bg-main remove_all_action text-white">
							<div class=" ttw-button_squared p-2">
							{% trans "Удалить все" %}
							</div>
						</div>
					</legend>
				</fieldset>
			</div>
		</toaster>
		<nav id="nav" class="ttw-sidebar_body ttw-sidebar_body_left ttw-sidebar_body_not_active p-1 justify-between flex flex-col text-center">
			<div>
				<hr>
			</div>
			<ul class="list_without_sign flex flex-col items-center">
				<li class="ttw-button ttw-button_link"><a class="" href="{% url 'home'%}"><p><h3>{% trans "Домашняя" %}</h3></p></a></li>
				<li class="ttw-button ttw-button_link"><a class="" href="{% url 'about'%}"><p><h3>{% trans "Об авторе" %}</h3></p></a></li>
				{% for cat_spec in categories_special %}
				<li class="ttw-button ttw-button_link"><a class="" href="{{ cat_spec.get_absolute_url }}"><p><h3>{{cat_spec.name}}</h3></p></a></li>
				{% endfor %}
			</ul>
			<div>
				<hr>
				<div class="min-h-[50px]"></div>
			</div>
		</nav>
		{% block content %}
		{% endblock %}
	</main>

	<footer class="p-2.5 flex flex-col items-center gap-5 z-20">
		{% block footer %}
		{% endblock %}
		<div class="max-w-7xl flex flex-row gap-7 justify-around w-full flex-wrap">
			<div class="flex flex-col">
				<div>
					<b>{% trans "Популярные ссылки" %}</b>
				</div>
				<ul class="list_without_sign">
				{% block footer_links %}
				{% endblock %}
				</ul>
			</div>
			<div class="flex flex-col gap-7 grow shrink-0 basis-72">
				<div class="flex flex-row grow shrink-0 flex-auto justify-between">
					<div class="flex flex-col">
						<div>
							<b>{% trans "Другие ссылки" %}</b>
						</div>
						<ul class="list_without_sign">
							<li class="ref"><a href="/sitemap.xml">{% trans "Карта сайта" %}</a></li>
							<li class="ref"><a href="{% url 'about' %}">{% trans "Об авторе" %}</a></li>
						</ul>
					</div>
					<div class="flex flex-col gap-7">
						<div>
							<b>{% trans "Контакты" %}</b>
						</div>
						<div class="flex flex-row flex-wrap gap-1">
							{% for contact in contacts %}
							<div class="ttw-button ttw-button_link">
								<a target="_blank" rel="contact" rev="{{contact.description}}" href="{{contact.url}}" >
									<img class="ttw-button_squared" width="32" height="32" src="{% get_media_prefix %}{{contact.icon}}" alt="{{ contact.name }} {% trans 'иконка' %}">
								</a>
							</div>
							{% endfor %}
						</div>
					</div>
				</div>
				<div class="flex flex-col gap-3">
					<div>
						<b>{% trans "Кратко о сайте" %}</b>
					</div>
					<div>
						{% blocktrans %}
						Данный сайт был создан в исключительно развлекательно-позновательном ключе. Он не несёт какой-либо специальной цели или миссии в пространстве интернета. Разве только общения и раскрытия интересных автору тем, которые, конечно же, могут и будут меняться со временем.
						{% endblocktrans %}
					</div>
				</div>
			</div>
		</div>
		<div>
			Copywrite @ {% now "Y"%} Tim the Webmaster
		</div>
	</footer>


    <!-- This is for knowing where to look for an images-->
    {% csrf_token %}
    <script>
		var DOMAIN_NAME = "{{domain_name}}"
        var PATH = "{% static .%}"
        {% get_available_languages as LANGUAGES %}
        {% get_language_info_list for LANGUAGES as languages %}
        {% for language in languages %}
            {% if language.code == LANGUAGE_CODE %}
				const language_code = "{{ language.code }}" 	
			{% endif %}
        {% endfor %}
        const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;
    </script>
	<script src="{% url 'javascript-catalog' %}"></script>
    <script src="{% static 'Main/js/index.min.js' %}"></script>
	{% block scripts %}
	{% endblock %}
</body>
</html>