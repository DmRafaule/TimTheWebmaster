/*! For license information please see index.min.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"../Main/static/Components/Base/media_loader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mediaLoad: () => (/* binding */ mediaLoad)\n/* harmony export */ });\nfunction mediaLoad() {\n  let onMediaUploaded = new CustomEvent('onMediaUploaded');\n  function WaitImageToUpload(image) {\n    var options = {\n      threshold: 0\n    };\n    var image_observer = new IntersectionObserver((entries, observer) => {\n      // Loop through the entries\n      for (const entry of entries) {\n        // Check if the entry is intersecting the viewport\n        if (entry.isIntersecting) {\n          image.setAttribute('src', image.getAttribute('data-src'));\n          image.classList.add('loader');\n          image_observer.disconnect();\n        }\n      }\n    }, options);\n    image_observer.observe(image);\n  }\n\n  // Callback function to execute when mutations are observed\n  function WaitMediaToAppear(mutationList, observer) {\n    for (const mutation of mutationList) {\n      if (mutation.addedNodes.length > 0) {\n        document.dispatchEvent(onMediaUploaded);\n        const images = mutation.target.querySelectorAll(\".dynamic_image\");\n        images.forEach(image => {\n          WaitImageToUpload(image);\n        });\n      }\n    }\n  }\n  ;\n\n  // Observe only those elements that I have explicitly assign\n  // This observe those elements that gonna have new children via ajax or\n  // Other technologies\n  const observedElements = document.querySelectorAll(\".toObserve\");\n  // This observer have to observe only those elements that have new children\n  const config = {\n    childList: true\n  };\n  // Set up callback\n  const observer = new MutationObserver(WaitMediaToAppear);\n  // Start observing the target node for configured mutations\n  observedElements.forEach(el => {\n    observer.observe(el, config);\n  });\n\n  // Observe images if they are intersecting with main viewport\n  const images = document.querySelectorAll(\".dynamic_image\");\n  images.forEach(image => {\n    WaitImageToUpload(image);\n  });\n}\n\n//# sourceURL=webpack://pagiscroll/../Main/static/Components/Base/media_loader.js?\n}")},"../Main/static/Components/Base/mobile_check.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IS_MOBILE: () => (/* binding */ IS_MOBILE)\n/* harmony export */ });\nvar IS_MOBILE = function () {\n  let check = false;\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n}();\n\n//# sourceURL=webpack://pagiscroll/../Main/static/Components/Base/mobile_check.js?\n}")},"../Main/static/Components/Blocks/Paginator/infinity_scroll.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WaitSetinelToInteract: () => (/* binding */ WaitSetinelToInteract)\n/* harmony export */ });\n// To use infinity load you need to be attached to specific event\nfunction WaitSetinelToInteract(sentinel, options = {}) {\n  const onInfinityLoad = new CustomEvent("onInfinityLoad", {\n    detail: {\n      sentinel: sentinel,\n      id: sentinel.id\n    }\n  });\n  const observer = new IntersectionObserver((entries, observer) => {\n    for (const entry of entries) {\n      if (entry.isIntersecting) {\n        sentinel.dispatchEvent(onInfinityLoad);\n      }\n    }\n  }, options);\n  observer.observe(sentinel);\n}\nfunction onReady() {\n  // Callback function to execute when mutations are observed\n  function WaitSentinelToAppear(mutationList, observer) {\n    for (const mutation of mutationList) {\n      if (mutation.addedNodes.length > 0) {\n        for (var i = 0; i < mutation.addedNodes.length; i++) {\n          // Check if node type is ELEMENT_NODE\n          if (mutation.addedNodes[i].nodeType == 1) {\n            var sentinel = mutation.addedNodes[i].querySelector(\'.scroll-sentinel\');\n            // Check if inserted node has .scroll-sentinel\n            if (sentinel) {\n              WaitSetinelToInteract(sentinel);\n            }\n          }\n        }\n      }\n    }\n  }\n  ;\n\n  // Observe only those elements that I have explicitly assign\n  // This observe those elements that gonna have new children via ajax or\n  // Other technologies\n  const observedElements = document.querySelectorAll(".toObserve");\n  // This observer have to observe only those elements that have new children\n  const config = {\n    childList: true,\n    subtree: true\n  };\n  // Set up callback\n  const observer = new MutationObserver(WaitSentinelToAppear);\n  // Start observing the target node for configured mutations\n  observedElements.forEach(el => {\n    observer.observe(el, config);\n  });\n  document.querySelectorAll(\'.scroll-sentinel\').forEach(sent => {\n    WaitSetinelToInteract(sent);\n  });\n}\nif (document.readyState === "loading") {\n  // Loading hasn\'t finished yet\n  document.addEventListener("DOMContentLoaded", onReady);\n} else {\n  onReady();\n}\n\n//# sourceURL=webpack://pagiscroll/../Main/static/Components/Blocks/Paginator/infinity_scroll.js?\n}')},"../Main/static/Components/Blocks/Paginator/paginator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   update_paginator: () => (/* binding */ update_paginator)\n/* harmony export */ });\n/* harmony import */ var _Components_Base_mobile_check_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Components/Base/mobile_check.js */ \"../Main/static/Components/Base/mobile_check.js\");\n\nvar paginator_buttons = document.querySelectorAll('.pagin_button');\nvar next_pagin_button = document.getElementById('next_pagin_button');\nvar prev_pagin_button = document.getElementById('prev_pagin_button');\nfunction update_paginator(num_pages, page) {\n  var paginator_body = document.getElementById('paginator_body');\n  paginator_body.innerText = '';\n  var default_page_example_in_paginator = document.getElementById('paginator_default_page_example');\n  var first_page_example_in_paginator = document.getElementById('paginator_first_page_example');\n  var last_page_example_in_paginator = document.getElementById('paginator_last_page_example');\n  if (!_Components_Base_mobile_check_js__WEBPACK_IMPORTED_MODULE_0__.IS_MOBILE) {\n    var dots_example_in_paginator = document.getElementById('paginator_dots_example');\n  }\n  if (num_pages == 0) {\n    var paginator = document.getElementById('paginator');\n    paginator.classList.add('is_none');\n    paginator.classList.remove('row');\n  } else {\n    var paginator = document.getElementById('paginator');\n    paginator.classList.remove('is_none');\n    paginator.classList.add('row');\n    if (num_pages == 1) {\n      var only_one_page = first_page_example_in_paginator.cloneNode();\n      only_one_page.classList.add('current_pagin_button');\n      only_one_page.classList.add('pagin_button_1');\n      only_one_page.classList.remove('example_pagin_button');\n      only_one_page.innerText = '1';\n      only_one_page.addEventListener('click', onPaginButton);\n      only_one_page.addEventListener('click', onPage);\n      only_one_page.dataset.page = 1;\n      paginator_body.insertAdjacentElement('beforeend', only_one_page);\n    } else if (num_pages == 2) {\n      var first_page = first_page_example_in_paginator.cloneNode();\n      first_page.classList.add('current_pagin_button');\n      first_page.classList.add('pagin_button_1');\n      first_page.classList.remove('example_pagin_button');\n      first_page.innerText = '1';\n      first_page.addEventListener('click', onPaginButton);\n      first_page.addEventListener('click', onPage);\n      first_page.dataset.page = 1;\n      paginator_body.insertAdjacentElement('beforeend', first_page);\n      var last_page = last_page_example_in_paginator.cloneNode();\n      last_page.innerText = String(num_pages);\n      last_page.classList.add('pagin_button_2');\n      last_page.addEventListener('click', onPaginButton);\n      last_page.addEventListener('click', onPage);\n      last_page.dataset.page = 2;\n      last_page.classList.remove('example_pagin_button');\n      paginator_body.insertAdjacentElement('beforeend', last_page);\n    } else if (num_pages == 3) {\n      var first_page = first_page_example_in_paginator.cloneNode();\n      first_page.classList.add('current_pagin_button');\n      first_page.classList.add('pagin_button_1');\n      first_page.classList.remove('example_pagin_button');\n      first_page.innerText = '1';\n      first_page.addEventListener('click', onPaginButton);\n      first_page.addEventListener('click', onPage);\n      first_page.dataset.page = 1;\n      paginator_body.insertAdjacentElement('beforeend', first_page);\n      var mid_page = default_page_example_in_paginator.cloneNode(true);\n      mid_page.innerText = 2;\n      mid_page.classList.add('pagin_button_2');\n      mid_page.addEventListener('click', onPaginButton);\n      mid_page.addEventListener('click', onPage);\n      mid_page.dataset.page = 2;\n      mid_page.classList.remove('example_pagin_button');\n      paginator_body.insertAdjacentElement('beforeend', mid_page);\n      var last_page = last_page_example_in_paginator.cloneNode();\n      last_page.innerText = String(num_pages);\n      last_page.classList.add('pagin_button_3');\n      last_page.addEventListener('click', onPaginButton);\n      last_page.addEventListener('click', onPage);\n      last_page.dataset.page = 3;\n      last_page.classList.remove('example_pagin_button');\n      paginator_body.insertAdjacentElement('beforeend', last_page);\n    } else if (num_pages >= 4) {\n      var first_page = first_page_example_in_paginator.cloneNode();\n      first_page.classList.add('current_pagin_button');\n      first_page.classList.add('pagin_button_1');\n      first_page.classList.remove('example_pagin_button');\n      first_page.innerText = '1';\n      first_page.addEventListener('click', onPaginButton);\n      first_page.addEventListener('click', onPage);\n      first_page.dataset.page = 1;\n      paginator_body.insertAdjacentElement('beforeend', first_page);\n      if (!_Components_Base_mobile_check_js__WEBPACK_IMPORTED_MODULE_0__.IS_MOBILE) {\n        var dots1 = dots_example_in_paginator.cloneNode(true);\n        dots1.classList.remove('example_pagin_button');\n        paginator_body.insertAdjacentElement('beforeend', dots1);\n      }\n      for (var i = 2; i < num_pages; i++) {\n        var mid_page = default_page_example_in_paginator.cloneNode(true);\n        mid_page.innerText = String(i);\n        mid_page.classList.add(`pagin_button_${i}`);\n        mid_page.addEventListener('click', onPaginButton);\n        mid_page.addEventListener('click', onPage);\n        mid_page.dataset.page = i;\n        mid_page.classList.remove('example_pagin_button');\n        paginator_body.insertAdjacentElement('beforeend', mid_page);\n      }\n      if (!_Components_Base_mobile_check_js__WEBPACK_IMPORTED_MODULE_0__.IS_MOBILE) {\n        var dots2 = dots_example_in_paginator.cloneNode(true);\n        dots2.classList.remove('example_pagin_button');\n        paginator_body.insertAdjacentElement('beforeend', dots2);\n      }\n      var last_page = last_page_example_in_paginator.cloneNode();\n      last_page.innerText = String(num_pages);\n      last_page.classList.add(`pagin_button_${num_pages}`);\n      last_page.addEventListener('click', onPaginButton);\n      last_page.addEventListener('click', onPage);\n      last_page.dataset.page = num_pages;\n      last_page.classList.remove('example_pagin_button');\n      paginator_body.insertAdjacentElement('beforeend', last_page);\n    }\n    var prev_pagin_button = document.getElementById('prev_pagin_button');\n    try {\n      prev_pagin_button.dataset.page = document.querySelector('.current_pagin_button').dataset.page;\n      prev_pagin_button.addEventListener('click', function () {\n        this.dataset.page = document.querySelector('.current_pagin_button').dataset.page;\n      });\n      prev_pagin_button.addEventListener('click', onPage);\n    } catch (error) {}\n    try {\n      var next_pagin_button = document.getElementById('next_pagin_button');\n      next_pagin_button.dataset.page = document.querySelector('.current_pagin_button').dataset.page;\n      next_pagin_button.addEventListener('click', function () {\n        this.dataset.page = document.querySelector('.current_pagin_button').dataset.page;\n      });\n      next_pagin_button.addEventListener('click', onPage);\n    } catch (error) {}\n    // Set current page\n    var current_page = document.querySelector(`.pagin_button_${page}`);\n    clearCurrentPaginButton();\n    current_page.classList.add('current_pagin_button');\n  }\n}\nfunction onPage(event) {\n  var onPaginButtonLoad = new CustomEvent('onPaginButtonLoad', {\n    detail: {\n      button: event.currentTarget\n    }\n  });\n  document.dispatchEvent(onPaginButtonLoad);\n}\nfunction clearCurrentPaginButton() {\n  var paginator_buttons = document.querySelectorAll('.pagin_button');\n  paginator_buttons.forEach(button => {\n    button.classList.remove('current_pagin_button');\n  });\n}\nfunction onPaginButton() {\n  clearCurrentPaginButton();\n  this.classList.add('current_pagin_button');\n}\nfunction onPaginButtonNext() {\n  var current_pagin_button = document.querySelector('.current_pagin_button');\n  var next_button = current_pagin_button.nextElementSibling;\n  if (next_button != null) {\n    clearCurrentPaginButton();\n    if (next_button.classList.contains('pagin_dots')) {\n      next_button = next_button.nextElementSibling;\n    }\n    next_button.classList.add('current_pagin_button');\n  }\n}\nfunction onPaginButtonPrev() {\n  var current_pagin_button = document.querySelector('.current_pagin_button');\n  var prev_button = current_pagin_button.previousElementSibling;\n  if (prev_button != null) {\n    clearCurrentPaginButton();\n    if (prev_button.classList.contains('pagin_dots')) {\n      prev_button = prev_button.previousElementSibling;\n    }\n    prev_button.classList.add('current_pagin_button');\n  }\n}\nfunction onReady() {\n  next_pagin_button.addEventListener('click', onPaginButtonNext);\n  prev_pagin_button.addEventListener('click', onPaginButtonPrev);\n  paginator_buttons.forEach(button => {\n    if (_Components_Base_mobile_check_js__WEBPACK_IMPORTED_MODULE_0__.IS_MOBILE) {\n      var current_pagin_button = document.querySelectorAll(\".first_pagin_button, .last_pagin_button\");\n      current_pagin_button.forEach(button => {\n        button.classList.remove('first_pagin_button');\n        button.classList.remove('last_pagin_button');\n      });\n      var pagin_dots = document.querySelectorAll('.pagin_dots');\n      pagin_dots.forEach(dots => {\n        dots.remove();\n      });\n    }\n    button.addEventListener('click', onPaginButton);\n  });\n  update_paginator(15, 1);\n}\nif (document.readyState === \"loading\") {\n  // Loading hasn't finished yet\n  document.addEventListener(\"DOMContentLoaded\", onReady);\n} else {\n  onReady();\n}\n\n//# sourceURL=webpack://pagiscroll/../Main/static/Components/Blocks/Paginator/paginator.js?\n}")},"../Main/static/Components/Blocks/Paginator/pagiscroll.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LoadPosts: () => (/* binding */ LoadPosts)\n/* harmony export */ });\n/* harmony import */ var _paginator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./paginator.js */ \"../Main/static/Components/Blocks/Paginator/paginator.js\");\n/* harmony import */ var _infinity_scroll_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./infinity_scroll.js */ \"../Main/static/Components/Blocks/Paginator/infinity_scroll.js\");\n\n\nlet num_pages = parseInt(document.querySelector('#meta-data').dataset.numpages);\nlet current_page = parseInt(document.querySelector('#meta-data').dataset.currentpage);\nlet url = document.querySelector('#meta-data').dataset.url;\nfunction onSort() {\n  var metaContainer = document.querySelector(\"#meta-data\");\n  var isRecent = metaContainer.dataset.sort;\n  if (isRecent == 'true') isRecent = false;else isRecent = true;\n  metaContainer.dataset.sort = isRecent;\n  LoadPosts(1, true);\n}\n\n// Get all data in filters, if they are available\nfunction updateFilters() {\n  var metaContainer = document.querySelector(\"#meta-data\");\n  var isRecent = metaContainer.dataset.sort;\n  var tags = JSON.parse(metaContainer.dataset.tags);\n  return [isRecent, tags];\n}\n// To send over GET request lists, like tags\nfunction buildURLList(list, list_el_name) {\n  var url_list = '';\n  list.forEach(el => {\n    url_list += `&${list_el_name}=${el}`;\n  });\n  return url_list;\n}\n// Return a UTR with all possible parameters\nfunction buildURL(page, tags, is_recent) {\n  var new_url = `${url}?page=${page}${buildURLList(tags, 'tag')}${buildURLList([is_recent], 'is_recent')}`;\n  return new_url;\n}\n// Update state of URL bar, will whow only page number and list of tags\nfunction updateState(page, tags = [], is_recent) {\n  var new_url = `${url}?page=${page}${buildURLList(tags, 'tag')}${buildURLList([is_recent], 'is_recent')}`;\n  history.replaceState(null, '', new_url);\n}\nfunction LoadPosts(page, isUpdate = false) {\n  var progressbar = document.querySelector('#progressbar');\n  progressbar.style.display = 'block';\n  const [isRecent, tags] = updateFilters();\n  const URL = buildURL(page, tags, isRecent);\n  const form_data = new FormData();\n  form_data.append('page', page);\n  form_data.append('tag', JSON.stringify(tags));\n  form_data.append('is_recent', isRecent);\n  form_data.append('csrfmiddlewaretoken', csrftoken);\n  window.contextLoader.startLoad('pagiscroll');\n  fetch(URL, {\n    method: 'POST',\n    body: form_data,\n    headers: {\n      'mode': 'same-origin'\n    }\n  }).then(response => {\n    if (response.ok) {\n      // если HTTP-статус в диапазоне 200-299\n      window.contextLoader.stopLoad('pagiscroll');\n      response.text().then(text => {\n        var page_container = document.querySelector('#page');\n        if (isUpdate) {\n          page_container.innerHTML = '';\n        }\n        // Insert 'answer' from server into site code\n        page_container.insertAdjacentHTML('beforeend', text);\n        // Insert animation for newly loade posts\n        page_container.querySelectorAll('.post_preview').forEach(post => {\n          num_pages = post.dataset.numpages;\n          if (!post.classList.contains('loader')) post.classList.add('loader');\n        });\n        (0,_paginator_js__WEBPACK_IMPORTED_MODULE_0__.update_paginator)(num_pages, page);\n        // Insert sentinel only if the next page is exist\n        if (!(Number(page) + 1 > num_pages)) {\n          var sentinel_next = page_container.querySelector(`#scroll-sentinel-${Number(page) + 1}`);\n          (0,_infinity_scroll_js__WEBPACK_IMPORTED_MODULE_1__.WaitSetinelToInteract)(sentinel_next);\n          sentinel_next.addEventListener('onInfinityLoad', onInfinityLoad, {\n            once: true\n          });\n          sentinel_next.addEventListener('onInfinityLoad', onInfinityLoadUpdate);\n        }\n        progressbar.style.display = 'none';\n        updateState(page, tags, isRecent);\n      });\n    } else {\n      // если HTTP-статус в диапазоне 300 - 599\n      window.contextLoader.stopLoad('pagiscroll');\n      window.toaster.notify(gettext(`Не смог получить страницу`), 'error');\n      (0,_paginator_js__WEBPACK_IMPORTED_MODULE_0__.update_paginator)(0, page);\n      response.text().then(text => {\n        var page_container = document.querySelector('#page');\n        page_container.innerHTML = '';\n        page_container.insertAdjacentHTML('beforeend', text);\n      });\n    }\n  }).catch(error => {\n    window.toaster.notify(gettext(`Что-то пошло не так `), 'error');\n    (0,_paginator_js__WEBPACK_IMPORTED_MODULE_0__.update_paginator)(0, page);\n    window.contextLoader.stopLoad('pagiscroll');\n  }).finally(() => {\n    progressbar.style.display = 'none';\n    window.contextLoader.stopLoad('pagiscroll');\n  });\n}\nfunction onInfinityLoadUpdate(event) {\n  var metaContainer = document.querySelector(\"#meta-data\");\n  var page = event.detail.sentinel.dataset.page;\n  var tags = JSON.parse(metaContainer.dataset.tags);\n  var isRecent = metaContainer.dataset.sort;\n  (0,_paginator_js__WEBPACK_IMPORTED_MODULE_0__.update_paginator)(num_pages, page);\n  updateState(page, tags, isRecent);\n}\nfunction onInfinityLoad(event) {\n  var page = event.detail.sentinel.dataset.page;\n  LoadPosts(page, false);\n}\nfunction onPaginLoad(event) {\n  var metaContainer = document.querySelector(\"#meta-data\");\n  var page = event.detail.button.dataset.page;\n  var sentinel = document.querySelector(`#scroll-sentinel-${page}`);\n  var isRecent = metaContainer.dataset.sort;\n  var tags = JSON.parse(metaContainer.dataset.tags);\n  updateState(page, tags, isRecent);\n  if (sentinel) {\n    sentinel.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"center\",\n      inline: \"center\"\n    });\n    (0,_paginator_js__WEBPACK_IMPORTED_MODULE_0__.update_paginator)(num_pages, page);\n  } else {\n    document.querySelector('h1').scrollIntoView({\n      behavior: \"instant\",\n      block: \"center\",\n      inline: \"center\"\n    });\n    LoadPosts(page, true);\n  }\n}\nfunction onReady() {\n  var page = document.querySelector('#page');\n  document.addEventListener('onPaginButtonLoad', onPaginLoad);\n  document.querySelector('#onSort').addEventListener('click', event => {\n    onSort();\n  });\n  page.querySelectorAll(`.scroll-sentinel`).forEach(sentinel => {\n    if (sentinel.dataset.page != 1) sentinel.addEventListener('onInfinityLoad', onInfinityLoad, {\n      once: true\n    });\n    sentinel.addEventListener('onInfinityLoad', onInfinityLoadUpdate);\n    sentinel.style.top = page.getBoundingClientRect().height + 'px';\n    if (sentinel.dataset.page != 1) page.insertAdjacentElement('beforeend', sentinel);\n  });\n  (0,_paginator_js__WEBPACK_IMPORTED_MODULE_0__.update_paginator)(num_pages, current_page);\n}\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", onReady);\n} else {\n  onReady();\n}\n\n//# sourceURL=webpack://pagiscroll/../Main/static/Components/Blocks/Paginator/pagiscroll.js?\n}")},"../Main/static/Components/Containers/Dropdown/dropdown.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DropdownButton: () => (/* binding */ DropdownButton)\n/* harmony export */ });\nlet dropdown_buttons = document.querySelectorAll(\".ttw-button_dropdown\");\nconst clickOutsideDropdown = new Event('clickOutsideDropdown');\nlet onClickOutsideDropdown = (button, body, callback) => {\n  document.addEventListener('click', e => {\n    if (!body.contains(e.target) && !button.contains(e.target)) {\n      document.dispatchEvent(clickOutsideDropdown);\n      callback();\n    }\n    ;\n  });\n};\nclass DropdownButton {\n  constructor(button) {\n    this.button = button;\n    this.body = document.getElementById(button.dataset.body);\n    this.button.addEventListener('click', () => {\n      this.dropdown();\n    });\n  }\n  dropdownOn() {\n    this.body.classList.remove('not_active_dropdown');\n  }\n  dropdownOff() {\n    this.body.classList.add('not_active_dropdown');\n  }\n  dropdown() {\n    this.body.classList.toggle('not_active_dropdown');\n  }\n}\ndropdown_buttons.forEach(btn => {\n  var dropdownBtn = new DropdownButton(btn);\n  var body = btn;\n  if (dropdownBtn.body) {\n    body = dropdownBtn.body;\n  }\n  // Добавляем только один евент на закрытие при нажатии вне контейнера\n  if (btn.classList.contains('ttw-button_swap_front')) {\n    onClickOutsideDropdown(btn, body, () => dropdownBtn.dropdownOff());\n  } else if (!btn.classList.contains('ttw-button_swap_back')) {\n    // Если у контейнера нет и 'ttw-button_swap_back' значит это не swap кнопка.\n    // В таком случае добавляем ещё один евент на закрытие при нажатии вне контейнера\n    onClickOutsideDropdown(btn, body, () => dropdownBtn.dropdownOff());\n  }\n});\n\n//# sourceURL=webpack://pagiscroll/../Main/static/Components/Containers/Dropdown/dropdown.js?\n}")},"./static/PagiScroll/js/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Main_static_Components_Containers_Dropdown_dropdown_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Main/static/Components/Containers/Dropdown/dropdown.js */ "../Main/static/Components/Containers/Dropdown/dropdown.js");\n/* harmony import */ var _Main_static_Components_Blocks_Paginator_paginator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Main/static/Components/Blocks/Paginator/paginator.js */ "../Main/static/Components/Blocks/Paginator/paginator.js");\n/* harmony import */ var _Main_static_Components_Blocks_Paginator_infinity_scroll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../Main/static/Components/Blocks/Paginator/infinity_scroll.js */ "../Main/static/Components/Blocks/Paginator/infinity_scroll.js");\n/* harmony import */ var _Main_static_Components_Blocks_Paginator_pagiscroll_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../Main/static/Components/Blocks/Paginator/pagiscroll.js */ "../Main/static/Components/Blocks/Paginator/pagiscroll.js");\n/* harmony import */ var _Main_static_Components_Base_media_loader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../Main/static/Components/Base/media_loader.js */ "../Main/static/Components/Base/media_loader.js");\n\n\n\n\n\nif (document.readyState === "loading") {\n  document.addEventListener("DOMContentLoaded", _Main_static_Components_Base_media_loader_js__WEBPACK_IMPORTED_MODULE_4__.mediaLoad);\n} else {\n  (0,_Main_static_Components_Base_media_loader_js__WEBPACK_IMPORTED_MODULE_4__.mediaLoad)();\n}\n\n//# sourceURL=webpack://pagiscroll/./static/PagiScroll/js/index.js?\n}')}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(n,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},__webpack_require__.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),__webpack_require__.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./static/PagiScroll/js/index.js")})();