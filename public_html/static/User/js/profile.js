const number=5;let offset=0;function removeComment(e){var t=$(e).attr("commentid");$.ajax({type:"POST",url:"/"+language_code+"/remove_comment/",data:{comment_id:t},headers:{"X-CSRFToken":csrftoken},mode:"same-origin",success:function(){$(e).parent().remove()}})}function loadComments(){$.ajax({type:"POST",url:"/"+language_code+"/load_comments_by_user/",data:{number,offset},headers:{"X-CSRFToken":csrftoken},mode:"same-origin",success:function(e){console.log("loaded comments"),$(e).insertBefore("#scroll-sentinel"),$(".comment_remove__button").on("click",function(){removeComment(this),console.log("removing comments")}),offset=offset+number}})}$(document).ready(function(){const e=new IntersectionObserver((e)=>{for(const t of e)t.isIntersecting&&loadComments()}),t=document.querySelector("#scroll-sentinel");e.observe(t)})