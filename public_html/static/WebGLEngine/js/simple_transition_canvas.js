function CreateF_Letter(e){e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,30,0,0,150,0,150,30,0,30,150,30,0,100,0,30,30,30,30,100,0,100,30,30,60,67,60,30,90,30,90,67,60,67,90]),e.STATIC_DRAW)}function CreateRectangle(e,t,n,s,o){var i=t,a=t+s,r=n,c=n+o;e.bufferData(e.ARRAY_BUFFER,new Float32Array([i,r,a,r,i,c,i,c,a,r,a,c]),e.STATIC_DRAW)}function CreateTriangle(e,t){var n=t[0],s=t[1],o=t[2],i=t[3],a=t[4],r=t[5];e.bufferData(e.ARRAY_BUFFER,new Float32Array([n,s,o,i,a,r]),e.STATIC_DRAW)}function Degree2Radian(e){return e*Math.PI/180}function createShader(e,t,n){var o,s=e.createShader(t);if(e.shaderSource(s,n),e.compileShader(s),o=e.getShaderParameter(s,e.COMPILE_STATUS),o)return s;console.log(e.getShaderInfoLog(s)),e.deleteShader(s)}function readTextFile(e){var t=new XMLHttpRequest,n="";return t.open("GET",e,!1),t.onreadystatechange=function(){t.readyState===4&&(t.status===200||t.status==0)&&(n=t.responseText)},t.send(null),n}function createProgram(e,t,n){var o,s=e.createProgram();if(e.attachShader(s,t),e.attachShader(s,n),e.linkProgram(s),o=e.getProgramParameter(s,e.LINK_STATUS),o)return s;console.log(e.getProgramInfoLog(s)),e.deleteProgram(s)}function drawScene(){gl.viewport(0,0,gl.canvas.width,gl.canvas.height),gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT),gl.useProgram(program),gl.enableVertexAttribArray(positionAttributeLocation),gl.uniform2f(resolutionUniformLocation,gl.canvas.width,gl.canvas.height),gl.bindBuffer(gl.ARRAY_BUFFER,positionBuffer);var t,n,s=2,o=gl.FLOAT,i=!1,a=0,e=0;gl.vertexAttribPointer(positionAttributeLocation,s,o,i,a,e),gl.uniform4fv(colorLocation,color),gl.uniform2fv(translationUniformLocation,translation),gl.uniform2fv(rotationUniformLocation,rotation),gl.uniform2fv(scaleUniformLocation,scale),t=gl.TRIANGLES,e=0,n=18,gl.drawArrays(t,e,n)}var canvas=document.querySelector("#canvas"),vertexShaderPath,fragmentShaderPath,vertexShaderSource,fragmentShaderSource,vertexShader,fragmentShader,program,positionAttributeLocation,resolutionUniformLocation,translationUniformLocation,rotationUniformLocation,scaleUniformLocation,colorLocation,positionBuffer,translation,rotation,scale,width,height,color,gl=canvas.getContext("webgl");gl||console.log("OpenGl is not avaiable"),vertexShaderPath=canvas.dataset.vertexShader,fragmentShaderPath=canvas.dataset.fragmentShader,vertexShaderSource=readTextFile(vertexShaderPath),fragmentShaderSource=readTextFile(fragmentShaderPath),vertexShader=createShader(gl,gl.VERTEX_SHADER,vertexShaderSource),fragmentShader=createShader(gl,gl.FRAGMENT_SHADER,fragmentShaderSource),program=createProgram(gl,vertexShader,fragmentShader),positionAttributeLocation=gl.getAttribLocation(program,"a_position"),resolutionUniformLocation=gl.getUniformLocation(program,"u_resolution"),translationUniformLocation=gl.getUniformLocation(program,"u_translation"),rotationUniformLocation=gl.getUniformLocation(program,"u_rotation"),scaleUniformLocation=gl.getUniformLocation(program,"u_scale"),colorLocation=gl.getUniformLocation(program,"u_color"),positionBuffer=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,positionBuffer),translation=[0,0],rotation=[0,1],scale=[1,1],width=100,height=30,color=[Math.random(),Math.random(),Math.random(),1],CreateF_Letter(gl),drawScene(),slider_transform_y=document.querySelector("#transform-y"),slider_transform_y.addEventListener("input",function(){var e=parseInt(this.nextElementSibling.value);translation[1]=e,drawScene()}),slider_transform_x=document.querySelector("#transform-x"),slider_transform_x.addEventListener("input",function(){var e=parseInt(this.nextElementSibling.value);translation[0]=e,drawScene()}),slider_scale_x=document.querySelector("#scale-x"),slider_scale_x.addEventListener("input",function(){var e=parseFloat(this.nextElementSibling.value);scale[0]=e,drawScene()}),slider_scale_y=document.querySelector("#scale-y"),slider_scale_y.addEventListener("input",function(){var e=parseFloat(this.nextElementSibling.value);scale[1]=e,drawScene()}),slider_rotate=document.querySelector("#rotation"),slider_rotate.addEventListener("input",function(){var t=parseInt(this.nextElementSibling.value),e=Degree2Radian(t);rotation[0]=Math.sin(e),rotation[1]=Math.cos(e),drawScene()})